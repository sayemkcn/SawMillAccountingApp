<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8"></meta>
	<title>All Products</title>
	<style>
		table {
			border-collapse: collapse;
			width: 100%;
		}
		
		th, td {
			text-align: left;
			padding: 8px;
		}
		
		tr:nth-child(even) {
			background-color: #AFDCEC;
		}
		
		th {
			background-color: #AFDCEC;
			color: white;
			align
			="center"
		}
	</style>
	<script type="text/javascript">
		function confirmAction(url){
			var x = confirm("Are you sure?");
			if(x==true){
				window.location=url;
			}
		}
	</script>
</head>
<body>
	<nav>
		<ul>
			<li><a th:href="@{/product}">All Products</a></li>
		</ul>
	</nav>

	<span style="color: red;" th:if="${param.message != null}" th:text="${param.message[0]}"></span>
	<hr></hr>
	<br></br>

	All Available products:
	<div>
		<a th:href="@{/product/create}">Add New</a><br></br>
		<a th:href="@{/invoice/create}">Generate Invoice</a><br></br>
		<br></br>
		<table th:if="${productList != null}">
			<tr>
				<th>Serial Number</th>
				<th>Category</th>
				<th>Type</th>
				<th>Purchase Price</th>
				<th>Status</th>
				<th>Note</th>
				<th>Edit Product</th>
				<th>Delete Product</th>
			</tr>
			<tr th:each="product:${productList}">
				<td th:text="${product.getSerial()}"></td>
				<td>
					<a th:href="@{/product/}+${product.getId()}">
						<span th:text="${product.getCategory().getName()}"></span>
					</a>
				</td>
				<td th:text="${product.getType()}"></td>
				<td th:text="${product.getPurchasePrice()}"></td>
				<td th:text="${product.getStatus()}"></td>
				<td th:text="${product.getNote()}"></td>
				<td><a th:href="@{/product/update/}+${product.getId()}">Edit</a></td>
				<td><button th:onclick="'javascript:confirmAction(\'' + @{/product/delete/}+${product.getId()} + '\');'"  >Delete</button></td>
			</tr>
		</table>
	</div>
	
</body>
</html>