<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"></meta>
<title>Add New Product</title>
</head>
<body>

	<nav>
		<ul>
			<li><a th:href="@{/product}">All Products</a></li>
		</ul>
	</nav>
	
	<span style="color: green;" th:if="${message != null}" th:text="${message}"></span>
	
	<!-- UPDATE PRODUCT -->
	<form th:if="${product != null}" th:action="@{/product/update/}+${product.getId()}" method="post">
		Add Product:<br></br>
		<hr></hr>
		Serial: <input type="text" name="serial" placeholder="Serial" th:value="${product?.getSerial()}"></input><br></br>
		Product Type: 
		<select name="type">
			<option th:selected="${product.getType().equals('Round')}" value="Round">Round</option>
			<option th:selected="${product.getType().equals('Sized')}" value="Sized">Sized</option>
		</select><br></br>
		Category:
		<select name="categoryName" >
			<option th:each="category:${categoryList}" th:text="${category.getName()}" th:selected="${product?.getCategory()?.getName().equals(category.getName())}"></option>
		</select>
		<br></br>
		Properties:<br></br>
		<div>
			Perimeter: <input type="number" name="productProperties.perimeter" placeholder="Perimeter" th:value="${product?.getProductProperties()?.getPerimeter()}"></input><br></br>
			Height: <input type="number" name="productProperties.height" placeholder="Height" th:value="${product?.getProductProperties()?.getHeight()}"></input><br></br>
			Width: <input type="number" name="productProperties.width" placeholder="Width" th:value="${product?.getProductProperties()?.getWidth()}"></input><br></br>
			Length: <input type="number" name="productProperties.length" placeholder="Length" th:value="${product?.getProductProperties()?.getLength()}"></input><br></br>
			Rate: <input type="number" name="productProperties.rate" placeholder="Rate" th:value="${product?.getProductProperties()?.getRate()}"></input><br></br>
		</div>
		<br></br>
		Purchase Price:<br></br>
		<input type="text" name="purchasePrice" placeholder="Purchase Price" th:value="${product?.getPurchasePrice()}"></input><br></br><br></br>
		Note:<br></br>
		<textarea type="text" name="note" placeholder="Note" th:text="${product?.getNote()}"></textarea><br></br><br></br>
		<input type="submit" value="Update Product"></input>
	</form>
	
	<!-- NEW PRODUCT -->
	<form th:if="${product == null}" th:action="@{/product/add}" method="post">
		Add Product:<br></br>
		<hr></hr>
		Serial: <input type="text" name="serial" placeholder="Serial"></input><br></br>
		Product Type: 
		<select name="type">
			<option value="Round">Round</option>
			<option value="Sized">Sized</option>
		</select><br></br><br></br>
		Category:
		<select name="categoryName">
			<option th:each="category:${categoryList}" th:text="${category.getName()}"></option>
		</select>
		<br></br>
		Properties:<br></br>
		<div>
			Perimeter: <input type="number" name="productProperties.perimeter" placeholder="Perimeter"></input><br></br>
			Height: <input type="number" name="productProperties.height" placeholder="Height" ></input><br></br>
			Width: <input type="number" name="productProperties.width" placeholder="Width" ></input><br></br>
			Length: <input type="number" name="productProperties.length" placeholder="Length"></input><br></br>
			Rate: <input type="number" name="productProperties.rate" placeholder="Rate" ></input><br></br>
		</div>
		<br></br>
		Note:<br></br>
		<textarea type="text" name="note" placeholder="Note" ></textarea><br></br><br></br>
		<input type="submit" value="Add Product"></input>
	</form>
	
</body>
</html>